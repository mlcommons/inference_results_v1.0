[2021-03-17 14:49:33,418 __init__.py:255 INFO] Running command: CUDA_VISIBILE_ORDER=PCI_BUS_ID nvidia-smi --query-gpu=gpu_name,pci.device_id,uuid --format=csv
[2021-03-17 14:49:33,498 main.py:694 INFO] Detected System ID: A100-SXM-80GBx8
[2021-03-17 14:49:33,506 main.py:527 INFO] Using config files: configs/3d-unet/Offline/config.json
[2021-03-17 14:49:33,506 __init__.py:341 INFO] Parsing config file configs/3d-unet/Offline/config.json ...
[2021-03-17 14:49:33,507 main.py:540 INFO] Processing config "A100-SXM-80GBx8_3d-unet_Offline"
[2021-03-17 14:49:33,566 main.py:82 INFO] Building engines for 3d-unet benchmark in Offline scenario...
[2021-03-17 14:49:33,567 main.py:102 INFO] Building GPU engine for A100-SXM-80GBx8_3d-unet_Offline
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: PIXELSHUFFLE3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: PIXELSHUFFLE3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: PIXELSHUFFLE3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: PIXELSHUFFLE3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: PIXELSHUFFLE3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: PIXELSHUFFLE3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: PIXELSHUFFLE3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: PIXELSHUFFLE3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: PIXELSHUFFLE3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: PIXELSHUFFLE3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: PIXELSHUFFLE3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: PIXELSHUFFLE3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: PIXELSHUFFLE3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: PIXELSHUFFLE3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: PIXELSHUFFLE3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: INSTNORM3D_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: INSTNORM3D_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: INSTNORM3D_TRT
[TensorRT] INFO: ModelImporter.cpp:135: No importer registered for op: CONV3D1X1X1K4_TRT. Attempting to import as plugin.
[TensorRT] INFO: builtin_op_importers.cpp:3771: Searching for plugin: CONV3D1X1X1K4_TRT, plugin_version: 1, plugin_namespace: 
[TensorRT] INFO: builtin_op_importers.cpp:3788: Successfully created plugin: CONV3D1X1X1K4_TRT
[2021-03-17 14:49:36,217 builder.py:149 INFO] Building ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan
[TensorRT] INFO: Reading Calibration Cache for calibrator: LegacyCalibration
[TensorRT] INFO: Generated calibration scales using calibration cache. Make sure that calibration cache has latest scales.
[TensorRT] INFO: To regenerate calibration cache, please delete the existing one. TensorRT will generate a new calibration cache.
[TensorRT] INFO: Some tactics do not have sufficient workspace memory to run. Increasing workspace size may increase performance, please check verbose output.
[TensorRT] INFO: Detected 1 inputs and 1 output network tensors.
[TensorRT] INFO: Detected 1 inputs and 1 output network tensors.
[TensorRT] INFO: Detected 1 inputs and 1 output network tensors.
[TensorRT] INFO: Detected 1 inputs and 1 output network tensors.
[2021-03-17 14:53:41,770 main.py:112 INFO] Finished building engines for 3d-unet benchmark in Offline scenario.
Time taken to generate engines: 248.2033989429474 seconds
[2021-03-17 14:53:43,540 main.py:624 INFO] config_ver=high_accuracy only modifies harness args. Re-using default engine.
[2021-03-17 14:53:43,593 main.py:82 INFO] Building engines for 3d-unet benchmark in Offline scenario...
[2021-03-17 14:53:43,594 main.py:102 INFO] Building GPU engine for A100-SXM-80GBx8_3d-unet_Offline
[2021-03-17 14:53:45,086 main.py:71 INFO] Copying ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan to ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan
[2021-03-17 14:53:45,167 main.py:112 INFO] Finished building engines for 3d-unet benchmark in Offline scenario.
Time taken to generate engines: 1.5733988285064697 seconds
[2021-03-17 14:53:48,766 __init__.py:255 INFO] Running command: CUDA_VISIBILE_ORDER=PCI_BUS_ID nvidia-smi --query-gpu=gpu_name,pci.device_id,uuid --format=csv
[2021-03-17 14:53:48,844 main.py:694 INFO] Detected System ID: A100-SXM-80GBx8
[2021-03-17 14:53:48,851 main.py:527 INFO] Using config files: configs/3d-unet/Offline/config.json
[2021-03-17 14:53:48,851 __init__.py:341 INFO] Parsing config file configs/3d-unet/Offline/config.json ...
[2021-03-17 14:53:48,852 main.py:540 INFO] Processing config "A100-SXM-80GBx8_3d-unet_Offline"
[2021-03-17 14:53:48,852 main.py:224 INFO] Running harness for 3d-unet benchmark in Offline scenario...
[2021-03-17 14:53:48,858 __init__.py:255 INFO] Running command: ./build/bin/harness_default --plugins="build/plugins/instanceNormalization3DPlugin/libinstancenorm3dplugin.so,build/plugins/pixelShuffle3DPlugin/libpixelshuffle3dplugin.so,build/plugins/conv3D1X1X1K4Plugin/libconv3D1X1X1K4Plugin.so" --logfile_outdir="/work/build/logs/2021.03.17-14.53.45/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99/Offline" --logfile_prefix="mlperf_log_" --performance_sample_count=16 --test_mode="PerformanceOnly" --gpu_copy_streams=4 --gpu_inference_streams=1 --start_from_device=true --gpu_batch_size=4 --map_path="data_maps/brats/val_map.txt" --tensor_path="${PREPROCESSED_DATA_DIR}/brats/brats_npy/int8_cdhw32" --use_graphs=false --gpu_engines="./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan" --mlperf_conf_path="measurements/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99/Offline/mlperf.conf" --user_conf_path="measurements/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99/Offline/user.conf" --max_dlas=0 --scenario Offline --model 3d-unet
[2021-03-17 14:53:48,859 __init__.py:261 INFO] Overriding Environment
gpu_inference_streams : 1
map_path : data_maps/brats/val_map.txt
precision : int8
use_graphs : False
input_dtype : int8
input_format : cdhw32
tensor_path : ${PREPROCESSED_DATA_DIR}/brats/brats_npy/int8_cdhw32
config_ver : default
gpu_batch_size : 4
gpu_copy_streams : 4
gpu_offline_expected_qps : 480
start_from_device : True
system_id : A100-SXM-80GBx8
scenario : Offline
benchmark : 3d-unet
config_name : A100-SXM-80GBx8_3d-unet_Offline
accuracy_level : 99%
optimization_level : plugin-enabled
inference_server : lwis
system_name : GIGABYTE_G492-ZD0_A100-SXM-80GBx8
test_mode : PerformanceOnly
gpu_num_bundles : 2
log_dir : /work/build/logs/2021.03.17-14.53.45
&&&& RUNNING Default_Harness # ./build/bin/harness_default
[I] mlperf.conf path: measurements/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99/Offline/mlperf.conf
[I] user.conf path: measurements/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99/Offline/user.conf
Creating QSL.
Finished Creating QSL.
Setting up SUT.
[I] Device:0: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan has been successfully loaded.
[I] Device:1: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan has been successfully loaded.
[I] Device:2: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan has been successfully loaded.
[I] Device:3: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan has been successfully loaded.
[I] Device:4: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan has been successfully loaded.
[I] Device:5: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan has been successfully loaded.
[I] Device:6: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan has been successfully loaded.
[I] Device:7: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan has been successfully loaded.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[I] Creating batcher thread: 0 EnableBatcherThreadPerDevice: false
Finished setting up SUT.
Starting warmup. Running for a minimum of 5 seconds.
Finished warmup. Ran for 16.5352s.
Starting running actual test.
================================================
MLPerf Results Summary
================================================
SUT name : LWIS_Server
Scenario : Offline
Mode     : PerformanceOnly
Samples per second: 412.494
Result is : VALID
  Min duration satisfied : Yes
  Min queries satisfied : Yes

================================================
Additional Stats
================================================
Min latency (ns)                : 100107960
Max latency (ns)                : 768010701589
Mean latency (ns)               : 383910889979
50.00 percentile latency (ns)   : 383917722872
90.00 percentile latency (ns)   : 691030168269
95.00 percentile latency (ns)   : 729429277722
97.00 percentile latency (ns)   : 744749088300
99.00 percentile latency (ns)   : 760140475306
99.90 percentile latency (ns)   : 767041768742

================================================
Test Parameters Used
================================================
samples_per_query : 316800
target_qps : 480
target_latency (ns): 0
max_async_queries : 1
min_duration (ms): 600000
max_duration (ms): 0
min_query_count : 1
max_query_count : 0
qsl_rng_seed : 7322528924094909334
sample_index_rng_seed : 1570999273408051088
schedule_rng_seed : 3507442325620259414
accuracy_log_rng_seed : 0
accuracy_log_probability : 0
accuracy_log_sampling_target : 0
print_timestamps : 0
performance_issue_unique : 0
performance_issue_same : 0
performance_issue_same_index : 0
performance_sample_count : 16

No warnings encountered during test.

No errors encountered during test.
Finished running actual test.
Device Device:0 processed:
  11717 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:1 processed:
  11691 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:2 processed:
  4596 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:3 processed:
  4596 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:4 processed:
  11576 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:5 processed:
  11577 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:6 processed:
  11781 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:7 processed:
  11666 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
&&&& PASSED Default_Harness # ./build/bin/harness_default
[2021-03-17 15:08:06,262 main.py:280 INFO] Result: result_samples_per_second: 412.494, Result is VALID
[2021-03-17 15:08:06,263 main.py:224 INFO] Running harness for 3d-unet benchmark in Offline scenario...
[2021-03-17 15:08:06,265 __init__.py:255 INFO] Running command: ./build/bin/harness_default --plugins="build/plugins/instanceNormalization3DPlugin/libinstancenorm3dplugin.so,build/plugins/pixelShuffle3DPlugin/libpixelshuffle3dplugin.so,build/plugins/conv3D1X1X1K4Plugin/libconv3D1X1X1K4Plugin.so" --logfile_outdir="/work/build/logs/2021.03.17-14.53.45/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99.9/Offline" --logfile_prefix="mlperf_log_" --performance_sample_count=16 --test_mode="PerformanceOnly" --gpu_copy_streams=4 --gpu_inference_streams=1 --start_from_device=true --gpu_batch_size=4 --map_path="data_maps/brats/val_map.txt" --tensor_path="${PREPROCESSED_DATA_DIR}/brats/brats_npy/int8_cdhw32" --use_graphs=false --gpu_engines="./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan" --mlperf_conf_path="measurements/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99.9/Offline/mlperf.conf" --user_conf_path="measurements/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99.9/Offline/user.conf" --max_dlas=0 --scenario Offline --model 3d-unet
[2021-03-17 15:08:06,265 __init__.py:261 INFO] Overriding Environment
gpu_inference_streams : 1
map_path : data_maps/brats/val_map.txt
precision : int8
use_graphs : False
input_dtype : int8
input_format : cdhw32
tensor_path : ${PREPROCESSED_DATA_DIR}/brats/brats_npy/int8_cdhw32
config_ver : high_accuracy
gpu_batch_size : 4
gpu_copy_streams : 4
gpu_offline_expected_qps : 480
start_from_device : True
system_id : A100-SXM-80GBx8
scenario : Offline
benchmark : 3d-unet
config_name : A100-SXM-80GBx8_3d-unet_Offline
accuracy_level : 99.9%
optimization_level : plugin-enabled
inference_server : lwis
system_name : GIGABYTE_G492-ZD0_A100-SXM-80GBx8
test_mode : PerformanceOnly
gpu_num_bundles : 2
log_dir : /work/build/logs/2021.03.17-14.53.45
&&&& RUNNING Default_Harness # ./build/bin/harness_default
[I] mlperf.conf path: measurements/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99.9/Offline/mlperf.conf
[I] user.conf path: measurements/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99.9/Offline/user.conf
Creating QSL.
Finished Creating QSL.
Setting up SUT.
[I] Device:0: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan has been successfully loaded.
[I] Device:1: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan has been successfully loaded.
[I] Device:2: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan has been successfully loaded.
[I] Device:3: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan has been successfully loaded.
[I] Device:4: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan has been successfully loaded.
[I] Device:5: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan has been successfully loaded.
[I] Device:6: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan has been successfully loaded.
[I] Device:7: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan has been successfully loaded.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[I] Creating batcher thread: 0 EnableBatcherThreadPerDevice: false
Finished setting up SUT.
Starting warmup. Running for a minimum of 5 seconds.
Finished warmup. Ran for 16.7031s.
Starting running actual test.
================================================
MLPerf Results Summary
================================================
SUT name : LWIS_Server
Scenario : Offline
Mode     : PerformanceOnly
Samples per second: 405.892
Result is : VALID
  Min duration satisfied : Yes
  Min queries satisfied : Yes

================================================
Additional Stats
================================================
Min latency (ns)                : 99730185
Max latency (ns)                : 780503242140
Mean latency (ns)               : 389175500612
50.00 percentile latency (ns)   : 387175109061
90.00 percentile latency (ns)   : 701872543921
95.00 percentile latency (ns)   : 740295556022
97.00 percentile latency (ns)   : 755956134451
99.00 percentile latency (ns)   : 771685954594
99.90 percentile latency (ns)   : 779424791872

================================================
Test Parameters Used
================================================
samples_per_query : 316800
target_qps : 480
target_latency (ns): 0
max_async_queries : 1
min_duration (ms): 600000
max_duration (ms): 0
min_query_count : 1
max_query_count : 0
qsl_rng_seed : 7322528924094909334
sample_index_rng_seed : 1570999273408051088
schedule_rng_seed : 3507442325620259414
accuracy_log_rng_seed : 0
accuracy_log_probability : 0
accuracy_log_sampling_target : 0
print_timestamps : 0
performance_issue_unique : 0
performance_issue_same : 0
performance_issue_same_index : 0
performance_sample_count : 16

No warnings encountered during test.

No errors encountered during test.
Finished running actual test.
Device Device:0 processed:
  11191 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:1 processed:
  11186 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:2 processed:
  4667 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:3 processed:
  4668 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:4 processed:
  11831 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:5 processed:
  11831 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:6 processed:
  11973 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:7 processed:
  11853 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
&&&& PASSED Default_Harness # ./build/bin/harness_default
[2021-03-17 15:22:36,369 main.py:280 INFO] Result: result_samples_per_second: 405.892, Result is VALID

======================= Perf harness results: =======================

GIGABYTE_G492-ZD0_A100-SXM-80GBx8-default-Offline:
    3d-unet: result_samples_per_second: 412.494, Result is VALID

GIGABYTE_G492-ZD0_A100-SXM-80GBx8-high_accuracy-Offline:
    3d-unet: result_samples_per_second: 405.892, Result is VALID


======================= Accuracy results: =======================

GIGABYTE_G492-ZD0_A100-SXM-80GBx8-default-Offline:
    3d-unet: No accuracy results in PerformanceOnly mode.

GIGABYTE_G492-ZD0_A100-SXM-80GBx8-high_accuracy-Offline:
    3d-unet: No accuracy results in PerformanceOnly mode.

[2021-03-17 15:22:39,537 __init__.py:255 INFO] Running command: CUDA_VISIBILE_ORDER=PCI_BUS_ID nvidia-smi --query-gpu=gpu_name,pci.device_id,uuid --format=csv
[2021-03-17 15:22:39,615 main.py:694 INFO] Detected System ID: A100-SXM-80GBx8
[2021-03-17 15:22:39,622 main.py:527 INFO] Using config files: configs/3d-unet/Offline/config.json
[2021-03-17 15:22:39,623 __init__.py:341 INFO] Parsing config file configs/3d-unet/Offline/config.json ...
[2021-03-17 15:22:39,623 main.py:540 INFO] Processing config "A100-SXM-80GBx8_3d-unet_Offline"
[2021-03-17 15:22:39,623 main.py:224 INFO] Running harness for 3d-unet benchmark in Offline scenario...
[2021-03-17 15:22:39,630 __init__.py:255 INFO] Running command: ./build/bin/harness_default --plugins="build/plugins/instanceNormalization3DPlugin/libinstancenorm3dplugin.so,build/plugins/pixelShuffle3DPlugin/libpixelshuffle3dplugin.so,build/plugins/conv3D1X1X1K4Plugin/libconv3D1X1X1K4Plugin.so" --logfile_outdir="/work/build/logs/2021.03.17-15.22.36/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99/Offline" --logfile_prefix="mlperf_log_" --performance_sample_count=16 --test_mode="AccuracyOnly" --gpu_copy_streams=4 --gpu_inference_streams=1 --start_from_device=true --gpu_batch_size=4 --map_path="data_maps/brats/val_map.txt" --tensor_path="${PREPROCESSED_DATA_DIR}/brats/brats_npy/int8_cdhw32" --use_graphs=false --gpu_engines="./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan" --mlperf_conf_path="measurements/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99/Offline/mlperf.conf" --user_conf_path="measurements/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99/Offline/user.conf" --max_dlas=0 --scenario Offline --model 3d-unet
[2021-03-17 15:22:39,630 __init__.py:261 INFO] Overriding Environment
gpu_inference_streams : 1
map_path : data_maps/brats/val_map.txt
precision : int8
use_graphs : False
input_dtype : int8
input_format : cdhw32
tensor_path : ${PREPROCESSED_DATA_DIR}/brats/brats_npy/int8_cdhw32
config_ver : default
gpu_batch_size : 4
gpu_copy_streams : 4
gpu_offline_expected_qps : 480
start_from_device : True
system_id : A100-SXM-80GBx8
scenario : Offline
benchmark : 3d-unet
config_name : A100-SXM-80GBx8_3d-unet_Offline
accuracy_level : 99%
optimization_level : plugin-enabled
inference_server : lwis
system_name : GIGABYTE_G492-ZD0_A100-SXM-80GBx8
test_mode : AccuracyOnly
gpu_num_bundles : 2
log_dir : /work/build/logs/2021.03.17-15.22.36
&&&& RUNNING Default_Harness # ./build/bin/harness_default
[I] mlperf.conf path: measurements/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99/Offline/mlperf.conf
[I] user.conf path: measurements/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99/Offline/user.conf
Creating QSL.
Finished Creating QSL.
Setting up SUT.
[I] Device:0: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan has been successfully loaded.
[I] Device:1: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan has been successfully loaded.
[I] Device:2: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan has been successfully loaded.
[I] Device:3: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan has been successfully loaded.
[I] Device:4: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan has been successfully loaded.
[I] Device:5: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan has been successfully loaded.
[I] Device:6: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan has been successfully loaded.
[I] Device:7: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.default.plan has been successfully loaded.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[I] Creating batcher thread: 0 EnableBatcherThreadPerDevice: false
Finished setting up SUT.
Starting warmup. Running for a minimum of 5 seconds.
Finished warmup. Ran for 16.7377s.
Starting running actual test.

No warnings encountered during test.

No errors encountered during test.
Finished running actual test.
Device Device:0 processed:
  3 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:1 processed:
  2 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:2 processed:
  2 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:3 processed:
  2 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:4 processed:
  2 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:5 processed:
  2 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:6 processed:
  2 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:7 processed:
  1 batches of size 3
  1 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
&&&& PASSED Default_Harness # ./build/bin/harness_default
[2021-03-17 15:24:47,792 main.py:280 INFO] Result: Cannot find performance result. Maybe you are running in AccuracyOnly mode.
[2021-03-17 15:24:47,797 __init__.py:255 INFO] Running command: python3 build/inference/vision/medical_imaging/3d-unet/accuracy-brats.py --log_file /work/build/logs/2021.03.17-15.22.36/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99/Offline/mlperf_log_accuracy.json --output_dtype float16 --preprocessed_data_dir build/preprocessed_data/brats/brats_reference_preprocessed --postprocessed_data_dir build/brats_postprocessed_data --label_data_dir build/preprocessed_data/brats/brats_reference_raw/Task043_BraTS2019/labelsTr

Please cite the following paper when using nnUNet:
Fabian Isensee, Paul F. JÃ¤ger, Simon A. A. Kohl, Jens Petersen, Klaus H. Maier-Hein "Automated Design of Deep Learning Methods for Biomedical Image Segmentation" arXiv preprint arXiv:1904.08128 (2020).
If you have questions or suggestions, feel free to open an issue at https://github.com/MIC-DKFZ/nnUNet

Loading necessary metadata...
Loading loadgen accuracy log...
Running postprocessing with multiple threads...
Saving predictions...
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
0 / 67
1 / 67
2 / 67
3 / 67
4 / 67
5 / 67
6 / 67
7 / 67
8 / 67
9 / 67
10 / 67
11 / 67
12 / 67
13 / 67
14 / 67
15 / 67
16 / 67
17 / 67
18 / 67
19 / 67
20 / 67
21 / 67
22 / 67
23 / 67
24 / 67
25 / 67
26 / 67
27 / 67
28 / 67
29 / 67
30 / 67
31 / 67
32 / 67
33 / 67
34 / 67
35 / 67
36 / 67
37 / 67
38 / 67
39 / 67
40 / 67
41 / 67
42 / 67
43 / 67
44 / 67
45 / 67
46 / 67
47 / 67
48 / 67
49 / 67
50 / 67
51 / 67
52 / 67
53 / 67
54 / 67
55 / 67
56 / 67
57 / 67
58 / 67
59 / 67
60 / 67
61 / 67
62 / 67
63 / 67
64 / 67
65 / 67
66 / 67
Running evaluation...
WARNING! Some files in folder_gt were not predicted (not present in folder_predicted)!
Loading evaluation summary...
Accuracy: mean = 0.85430, whole tumor = 0.9140, tumor core = 0.8691, enhancing tumor = 0.7798
Done!
[2021-03-17 15:25:23,099 main.py:224 INFO] Running harness for 3d-unet benchmark in Offline scenario...
[2021-03-17 15:25:23,105 __init__.py:255 INFO] Running command: ./build/bin/harness_default --plugins="build/plugins/instanceNormalization3DPlugin/libinstancenorm3dplugin.so,build/plugins/pixelShuffle3DPlugin/libpixelshuffle3dplugin.so,build/plugins/conv3D1X1X1K4Plugin/libconv3D1X1X1K4Plugin.so" --logfile_outdir="/work/build/logs/2021.03.17-15.22.36/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99.9/Offline" --logfile_prefix="mlperf_log_" --performance_sample_count=16 --test_mode="AccuracyOnly" --gpu_copy_streams=4 --gpu_inference_streams=1 --start_from_device=true --gpu_batch_size=4 --map_path="data_maps/brats/val_map.txt" --tensor_path="${PREPROCESSED_DATA_DIR}/brats/brats_npy/int8_cdhw32" --use_graphs=false --gpu_engines="./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan" --mlperf_conf_path="measurements/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99.9/Offline/mlperf.conf" --user_conf_path="measurements/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99.9/Offline/user.conf" --max_dlas=0 --scenario Offline --model 3d-unet
[2021-03-17 15:25:23,105 __init__.py:261 INFO] Overriding Environment
gpu_inference_streams : 1
map_path : data_maps/brats/val_map.txt
precision : int8
use_graphs : False
input_dtype : int8
input_format : cdhw32
tensor_path : ${PREPROCESSED_DATA_DIR}/brats/brats_npy/int8_cdhw32
config_ver : high_accuracy
gpu_batch_size : 4
gpu_copy_streams : 4
gpu_offline_expected_qps : 480
start_from_device : True
system_id : A100-SXM-80GBx8
scenario : Offline
benchmark : 3d-unet
config_name : A100-SXM-80GBx8_3d-unet_Offline
accuracy_level : 99.9%
optimization_level : plugin-enabled
inference_server : lwis
system_name : GIGABYTE_G492-ZD0_A100-SXM-80GBx8
test_mode : AccuracyOnly
gpu_num_bundles : 2
log_dir : /work/build/logs/2021.03.17-15.22.36
&&&& RUNNING Default_Harness # ./build/bin/harness_default
[I] mlperf.conf path: measurements/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99.9/Offline/mlperf.conf
[I] user.conf path: measurements/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99.9/Offline/user.conf
Creating QSL.
Finished Creating QSL.
Setting up SUT.
[I] Device:0: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan has been successfully loaded.
[I] Device:1: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan has been successfully loaded.
[I] Device:2: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan has been successfully loaded.
[I] Device:3: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan has been successfully loaded.
[I] Device:4: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan has been successfully loaded.
[I] Device:5: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan has been successfully loaded.
[I] Device:6: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan has been successfully loaded.
[I] Device:7: ./build/engines/A100-SXM-80GBx8/3d-unet/Offline/3d-unet-Offline-gpu-b4-int8.high_accuracy.plan has been successfully loaded.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[W] [TRT] Could not set default profile 0 for execution context. Profile index must be set explicitly.
[I] Creating batcher thread: 0 EnableBatcherThreadPerDevice: false
Finished setting up SUT.
Starting warmup. Running for a minimum of 5 seconds.
Finished warmup. Ran for 16.7335s.
Starting running actual test.

No warnings encountered during test.

No errors encountered during test.
Finished running actual test.
Device Device:0 processed:
  3 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:1 processed:
  2 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:2 processed:
  2 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:3 processed:
  2 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:4 processed:
  2 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:5 processed:
  2 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:6 processed:
  2 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
Device Device:7 processed:
  1 batches of size 3
  1 batches of size 4
  Memcpy Calls: 0
  PerSampleCudaMemcpy Calls: 0
  BatchedCudaMemcpy Calls: 0
&&&& PASSED Default_Harness # ./build/bin/harness_default
[2021-03-17 15:27:31,164 main.py:280 INFO] Result: Cannot find performance result. Maybe you are running in AccuracyOnly mode.
[2021-03-17 15:27:31,165 __init__.py:255 INFO] Running command: python3 build/inference/vision/medical_imaging/3d-unet/accuracy-brats.py --log_file /work/build/logs/2021.03.17-15.22.36/GIGABYTE_G492-ZD0_A100-SXM-80GBx8/3d-unet-99.9/Offline/mlperf_log_accuracy.json --output_dtype float16 --preprocessed_data_dir build/preprocessed_data/brats/brats_reference_preprocessed --postprocessed_data_dir build/brats_postprocessed_data --label_data_dir build/preprocessed_data/brats/brats_reference_raw/Task043_BraTS2019/labelsTr

Please cite the following paper when using nnUNet:
Fabian Isensee, Paul F. JÃ¤ger, Simon A. A. Kohl, Jens Petersen, Klaus H. Maier-Hein "Automated Design of Deep Learning Methods for Biomedical Image Segmentation" arXiv preprint arXiv:1904.08128 (2020).
If you have questions or suggestions, feel free to open an issue at https://github.com/MIC-DKFZ/nnUNet

Loading necessary metadata...
Loading loadgen accuracy log...
Running postprocessing with multiple threads...
Saving predictions...
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
force_separate_z: None interpolation order: 3
no resampling necessary
0 / 67
1 / 67
2 / 67
3 / 67
4 / 67
5 / 67
6 / 67
7 / 67
8 / 67
9 / 67
10 / 67
11 / 67
12 / 67
13 / 67
14 / 67
15 / 67
16 / 67
17 / 67
18 / 67
19 / 67
20 / 67
21 / 67
22 / 67
23 / 67
24 / 67
25 / 67
26 / 67
27 / 67
28 / 67
29 / 67
30 / 67
31 / 67
32 / 67
33 / 67
34 / 67
35 / 67
36 / 67
37 / 67
38 / 67
39 / 67
40 / 67
41 / 67
42 / 67
43 / 67
44 / 67
45 / 67
46 / 67
47 / 67
48 / 67
49 / 67
50 / 67
51 / 67
52 / 67
53 / 67
54 / 67
55 / 67
56 / 67
57 / 67
58 / 67
59 / 67
60 / 67
61 / 67
62 / 67
63 / 67
64 / 67
65 / 67
66 / 67
Running evaluation...
WARNING! Some files in folder_gt were not predicted (not present in folder_predicted)!
Loading evaluation summary...
Accuracy: mean = 0.85430, whole tumor = 0.9140, tumor core = 0.8691, enhancing tumor = 0.7798
Done!

======================= Perf harness results: =======================

GIGABYTE_G492-ZD0_A100-SXM-80GBx8-default-Offline:
    3d-unet: Cannot find performance result. Maybe you are running in AccuracyOnly mode.

GIGABYTE_G492-ZD0_A100-SXM-80GBx8-high_accuracy-Offline:
    3d-unet: Cannot find performance result. Maybe you are running in AccuracyOnly mode.


======================= Accuracy results: =======================

GIGABYTE_G492-ZD0_A100-SXM-80GBx8-default-Offline:
    3d-unet: Accuracy = 0.854, Threshold = 0.844. Accuracy test PASSED.

GIGABYTE_G492-ZD0_A100-SXM-80GBx8-high_accuracy-Offline:
    3d-unet: Accuracy = 0.854, Threshold = 0.852. Accuracy test PASSED.

